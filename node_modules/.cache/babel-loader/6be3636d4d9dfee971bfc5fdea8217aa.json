{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/manis/OneDrive/Desktop/React/newsapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/manis/OneDrive/Desktop/React/newsapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/manis/OneDrive/Desktop/React/newsapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/manis/OneDrive/Desktop/React/newsapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/manis/OneDrive/Desktop/React/newsapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/manis/OneDrive/Desktop/React/newsapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import NewsItem from'./NewsItem';import Spinner from'./Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var News=/*#__PURE__*/function(_Component){_inherits(News,_Component);var _super=_createSuper(News);function News(){var _this;_classCallCheck(this,News);_this=_super.call(this);_this.handlePreviousClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"https://newsapi.org/v2/everything?domains=wsj.com&apiKey=202fcca38be941fc97fb9fdc6a167cde&page=\".concat(_this.state.page-1,\"&pageSize=\").concat(_this.props.pageSize);_context.next=3;return fetch(url);case 3:data=_context.sent;_context.next=6;return data.json();case 6:parsedData=_context.sent;_this.setState({articles:parsedData.articles,page:_this.state.page-1});case 8:case\"end\":return _context.stop();}}},_callee);}));_this.handleNextClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(_this.state.page+1>Math.ceil(_this.state.totalResults/20))){_context2.next=3;break;}_context2.next=11;break;case 3:url=\"https://newsapi.org/v2/everything?domains=wsj.com&apiKey=202fcca38be941fc97fb9fdc6a167cde&page=\".concat(_this.state.page+1,\"&pageSize=\").concat(_this.props.pageSize);_context2.next=6;return fetch(url);case 6:data=_context2.sent;_context2.next=9;return data.json();case 9:parsedData=_context2.sent;_this.setState({articles:parsedData.articles,page:_this.state.page+1// totalResults: this.state.totalResults\n});case 11:case\"end\":return _context2.stop();}}},_callee2);}));console.log(\"This is me\");_this.state={articles:[],loading:false,page:1};return _this;}_createClass(News,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:url=\"https://newsapi.org/v2/everything?domains=wsj.com&apiKey=202fcca38be941fc97fb9fdc6a167cde&page=1&pageSize=\".concat(this.props.pageSize);_context3.next=3;return fetch(url);case 3:data=_context3.sent;_context3.next=6;return data.json();case 6:parsedData=_context3.sent;console.log(parsedData);this.setState({articles:parsedData.articles,totalResults:parsedData.totalResults});case 9:case\"end\":return _context3.stop();}}},_callee3,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"This is news section.\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:this.state.articles.map(function(element){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 my-3\",children:/*#__PURE__*/_jsx(NewsItem,{title:element.title?element.title.slice(0,45):\"\",description:element.description?element.description.slice(0,88):\"\",urlImage:element.urlToImage,newsUrl:element.url})},element.url);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex justify-content-between my-5\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page<=1,type:\"button\",class:\"btn btn-dark\",onClick:this.handlePreviousClick,children:\" \\u2190 Previous\"}),/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page+1>Math.ceil(this.state.totalResults/this.props.pageSize),type:\"button\",class:\"btn btn-dark\",onClick:this.handleNextClick,children:\"Next \\u2192\"})]})]});}}]);return News;}(Component);export default News;","map":{"version":3,"sources":["C:/Users/manis/OneDrive/Desktop/React/newsapp/src/Components/News.js"],"names":["React","Component","NewsItem","Spinner","News","handlePreviousClick","url","state","page","props","pageSize","fetch","data","json","parsedData","setState","articles","handleNextClick","Math","ceil","totalResults","console","log","loading","map","element","title","slice","description","urlToImage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport NewsItem from './NewsItem'\r\nimport Spinner from './Spinner';\r\n\r\nexport class News extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n        console.log(\"This is me\");\r\n        this.state = {\r\n            articles: [],\r\n            loading: false,\r\n            page: 1,\r\n            \r\n        }\r\n    }\r\n    \r\n    async componentDidMount(){\r\n        let url = `https://newsapi.org/v2/everything?domains=wsj.com&apiKey=202fcca38be941fc97fb9fdc6a167cde&page=1&pageSize=${this.props.pageSize}`;\r\n        let data = await fetch(url);\r\n        let parsedData = await data.json();\r\n        console.log(parsedData);\r\n        this.setState({articles: parsedData.articles, totalResults: parsedData.totalResults})\r\n        \r\n    }\r\n    \r\n    handlePreviousClick = async ()=>{\r\n        let url = `https://newsapi.org/v2/everything?domains=wsj.com&apiKey=202fcca38be941fc97fb9fdc6a167cde&page=${this.state.page-1}&pageSize=${this.props.pageSize}`;\r\n        let data = await fetch(url);\r\n        let parsedData = await data.json();\r\n        this.setState({\r\n            articles: parsedData.articles,\r\n            page: this.state.page - 1\r\n        })\r\n    }\r\n    \r\n    handleNextClick = async ()=>{\r\n        if (this.state.page+1 > Math.ceil(this.state.totalResults/20)){\r\n        }\r\n        else{\r\n\r\n            let url = `https://newsapi.org/v2/everything?domains=wsj.com&apiKey=202fcca38be941fc97fb9fdc6a167cde&page=${this.state.page+1}&pageSize=${this.props.pageSize}`;\r\n            let data = await fetch(url);\r\n            let parsedData = await data.json();\r\n            this.setState({\r\n                articles: parsedData.articles,\r\n                page: this.state.page +1\r\n                // totalResults: this.state.totalResults\r\n            })\r\n        }       \r\n    }\r\n    render() {\r\n    return (\r\n        \r\n            <>\r\n            <div className=\"container my-3\">\r\n                <h1 className=\"text-center\">This is news section.</h1>  \r\n                <hr/>\r\n                <Spinner/>\r\n            <div className=\"row\">\r\n                {this.state.articles.map((element)=>{\r\n                return <div className=\"col-md-4 my-3\" key={element.url}>\r\n                <NewsItem title={element.title?element.title.slice(0,45):\"\"} description={element.description?element.description.slice(0,88):\"\"} urlImage= {element.urlToImage} newsUrl= {element.url}/ >\r\n                </div>\r\n\r\n                })}\r\n            </div>  \r\n                        \r\n            </div>\r\n            <div className=\"container d-flex justify-content-between my-5\">\r\n                <button disabled={this.state.page<=1} type=\"button\" class=\"btn btn-dark\" onClick={this.handlePreviousClick}> &larr; Previous</button>\r\n                <button disabled={this.state.page+1 > Math.ceil(this.state.totalResults/this.props.pageSize)} type=\"button\" class=\"btn btn-dark\" onClick={this.handleNextClick}>Next &rarr;</button>\r\n                </div>\r\n                </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default News\r\n"]},"metadata":{},"sourceType":"module"}