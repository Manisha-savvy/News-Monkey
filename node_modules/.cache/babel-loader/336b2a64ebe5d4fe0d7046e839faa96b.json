{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/manis/OneDrive/Desktop/React/newsapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/manis/OneDrive/Desktop/React/newsapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/manis/OneDrive/Desktop/React/newsapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/manis/OneDrive/Desktop/React/newsapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/manis/OneDrive/Desktop/React/newsapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/manis/OneDrive/Desktop/React/newsapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import NewsItem from'./NewsItem';import Spinner from'./Spinner';import InfiniteScroll from\"react-infinite-scroll-component\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var News=/*#__PURE__*/function(_Component){_inherits(News,_Component);var _super=_createSuper(News);function News(props){var _this;_classCallCheck(this,News);_this=_super.call(this,props);_this.capitalizeFirstLetter=function(string){return string.charAt(0).toUpperCase()+string.slice(1);};_this.fetchMoreData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({page:_this.state.page+1});url=\"https://newsapi.org/v2/top-headlines?country=in&catergory=\".concat(_this.props.category,\"&apiKey=\").concat(_this.props.apiKey,\"&page=\").concat(_this.state.page,\"&pageSize=\").concat(_this.props.pageSize);_this.setState({loading:true});_context.next=5;return fetch(url);case 5:data=_context.sent;_context.next=8;return data.json();case 8:parsedData=_context.sent;console.log(parsedData);_this.setState({articles:_this.state.articles.concat(parsedData.articles),totalResults:parsedData.totalResults,loading:false});case 11:case\"end\":return _context.stop();}}},_callee);}));_this.handlePreviousClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// let url = `https://newsapi.org/v2/everything?domains=wsj.com&catergory=${this.props.category}&apiKey=202fcca38be941fc97fb9fdc6a167cde&page=${this.state.page-1}&pageSize=${this.props.pageSize}`;\n// let url = `https://newsapi.org/v2/top-headlines?country=in&catergory=${this.props.category}&apiKey=202fcca38be941fc97fb9fdc6a167cde&page=${this.state.page-1}&pageSize=${this.props.pageSize}`;\n// console.log(\"Data is fetching\");\n// this.setState({loading: true});\n// let data = await fetch(url);\n// let parsedData = await data.json();\n// console.log(\"Data is fetching\");\n// this.setState({\n//     articles: parsedData.articles,\n//     page: this.state.page - 1,\n//     loading: false})\n_this.setState({page:_this.state.page-1});_this.updateNews();case 2:case\"end\":return _context2.stop();}}},_callee2);}));_this.handleNextClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:// if (!(this.state.page+1 > Math.ceil(this.state.totalResults/20))){\n//     this.setState({loading: true});\n// let url = `https://newsapi.org/v2/everything?domains=wsj.com&catergory=${this.props.category}&apiKey=202fcca38be941fc97fb9fdc6a167cde&page=${this.state.page+1}&pageSize=${this.props.pageSize}`;\n// let url = `https://newsapi.org/v2/top-headlines?country=in&catergory=${this.props.category}&apiKey=202fcca38be941fc97fb9fdc6a167cde&page=${this.state.page+1}&pageSize=${this.props.pageSize}`;\n// let data = await fetch(url);\n// let parsedData = await data.json();\n// this.setState({\n//     articles: parsedData.articles,\n//     page: this.state.page + 1,\n//     loading: false})\n_this.setState({page:_this.state.page+1});_this.updateNews();case 2:case\"end\":return _context3.stop();}}},_callee3);}));console.log(\"This is me\");_this.state={articles:[],loading:false,page:1,totalResults:0};document.title=\"\".concat(_this.capitalizeFirstLetter(_this.props.category),\" - News Monkey\");return _this;}_createClass(News,[{key:\"updateNews\",value:function(){var _updateNews=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var url,data,parsedData;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=in&catergory=\".concat(this.props.category,\"&apiKey=\").concat(this.props.apiKey,\"&page=\").concat(this.state.page,\"&pageSize=\").concat(this.props.pageSize);this.setState({loading:true});_context4.next=4;return fetch(url);case 4:data=_context4.sent;_context4.next=7;return data.json();case 7:parsedData=_context4.sent;console.log(parsedData);this.setState({articles:parsedData.articles,totalResults:parsedData.totalResults,loading:false});case 10:case\"end\":return _context4.stop();}}},_callee4,this);}));function updateNews(){return _updateNews.apply(this,arguments);}return updateNews;}()},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:// let url = `https://newsapi.org/v2/everything?domains=wsj.com&catergory=${this.props.category}&apiKey=202fcca38be941fc97fb9fdc6a167cde&page=1&pageSize=${this.props.pageSize}`;\n// let url = `https://newsapi.org/v2/top-headlines?country=in&catergory=${this.props.category}&apiKey=202fcca38be941fc97fb9fdc6a167cde&page=1&pageSize=${this.props.pageSize}`;\n// let data = await fetch(url);\n// let parsedData = await data.json();\n// console.log(parsedData);\n// this.setState({articles: parsedData.articles, \n//                totalResults: parsedData.totalResults,\n//                loading: false})\nthis.updateNews();case 1:case\"end\":return _context5.stop();}}},_callee5,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center\",children:[\"News Monkey - \",this.capitalizeFirstLetter(this.props.category),\" category.\"]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:this.state.articles.length,next:this.fetchMoreData,hasMore:this.state.articles.length!==this.state.totalResults,loader:/*#__PURE__*/_jsx(Spinner,{}),children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:this.state.articles.map(function(element){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 my-3\",children:/*#__PURE__*/_jsx(NewsItem,{title:element.title?element.title.slice(0,45):\"\",description:element.description?element.description.slice(0,88):\"\",urlImage:element.urlToImage,newsUrl:element.url,author:element.author?element.author:\"Unknown\",date:element.publishedAt})},element.url);})})})})]});}}]);return News;}(Component);News.defaultProps={// country: \"in\",\npageSize:5,category:'science'};export default News;","map":{"version":3,"sources":["C:/Users/manis/OneDrive/Desktop/React/newsapp/src/Components/News.js"],"names":["React","Component","NewsItem","Spinner","InfiniteScroll","News","props","capitalizeFirstLetter","string","charAt","toUpperCase","slice","fetchMoreData","setState","page","state","url","category","apiKey","pageSize","loading","fetch","data","json","parsedData","console","log","articles","concat","totalResults","handlePreviousClick","updateNews","handleNextClick","document","title","length","map","element","description","urlToImage","author","publishedAt","defaultProps"],"mappings":"q8BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CAEA,MAAOC,CAAAA,cAAP,KAA2B,iCAA3B,C,6IAGA,UAAaC,CAAAA,IAAb,4FAiBI,cAAYC,KAAZ,CAAmB,sCACf,uBAAMA,KAAN,EADe,MALnBC,qBAKmB,CALK,SAACC,MAAD,CAAY,CAChC,MAAOA,CAAAA,MAAM,CAACC,MAAP,CAAc,CAAd,EAAiBC,WAAjB,GAAiCF,MAAM,CAACG,KAAP,CAAa,CAAb,CAAxC,CACH,CAGkB,OA2BnBC,aA3BmB,sEA2BH,2JACZ,MAAKC,QAAL,CAAc,CAACC,IAAI,CAAE,MAAKC,KAAL,CAAWD,IAAX,CAAiB,CAAxB,CAAd,EACIE,GAFQ,qEAE2D,MAAKV,KAAL,CAAWW,QAFtE,oBAEyF,MAAKX,KAAL,CAAWY,MAFpG,kBAEmH,MAAKH,KAAL,CAAWD,IAF9H,sBAE+I,MAAKR,KAAL,CAAWa,QAF1J,EAGZ,MAAKN,QAAL,CAAc,CAAEO,OAAO,CAAE,IAAX,CAAd,EAHY,sBAIKC,CAAAA,KAAK,CAACL,GAAD,CAJV,QAIRM,IAJQ,qCAKWA,CAAAA,IAAI,CAACC,IAAL,EALX,QAKRC,UALQ,eAMZC,OAAO,CAACC,GAAR,CAAYF,UAAZ,EACA,MAAKX,QAAL,CAAc,CACVc,QAAQ,CAAE,MAAKZ,KAAL,CAAWY,QAAX,CAAoBC,MAApB,CAA2BJ,UAAU,CAACG,QAAtC,CADA,CAEVE,YAAY,CAAEL,UAAU,CAACK,YAFf,CAGVT,OAAO,CAAE,KAHC,CAAd,EAPY,uDA3BG,SAwDnBU,mBAxDmB,sEAwDG,wIAClB;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA,MAAKjB,QAAL,CAAc,CAAEC,IAAI,CAAE,MAAKC,KAAL,CAAWD,IAAX,CAAkB,CAA1B,CAAd,EACA,MAAKiB,UAAL,GAdkB,wDAxDH,SA0EnBC,eA1EmB,sEA0ED,wIACd;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAKnB,QAAL,CAAc,CAAEC,IAAI,CAAE,MAAKC,KAAL,CAAWD,IAAX,CAAkB,CAA1B,CAAd,EACA,MAAKiB,UAAL,GAbc,wDA1EC,GAEfN,OAAO,CAACC,GAAR,CAAY,YAAZ,EACA,MAAKX,KAAL,CAAa,CACTY,QAAQ,CAAE,EADD,CAETP,OAAO,CAAE,KAFA,CAGTN,IAAI,CAAE,CAHG,CAITe,YAAY,CAAE,CAJL,CAAb,CAOAI,QAAQ,CAACC,KAAT,WAAoB,MAAK3B,qBAAL,CAA2B,MAAKD,KAAL,CAAWW,QAAtC,CAApB,mBAVe,aAWlB,CA5BL,8HA+BI,gKACQD,GADR,qEAC2E,KAAKV,KAAL,CAAWW,QADtF,oBACyG,KAAKX,KAAL,CAAWY,MADpH,kBACmI,KAAKH,KAAL,CAAWD,IAD9I,sBAC+J,KAAKR,KAAL,CAAWa,QAD1K,EAEI,KAAKN,QAAL,CAAc,CAAEO,OAAO,CAAE,IAAX,CAAd,EAFJ,uBAGqBC,CAAAA,KAAK,CAACL,GAAD,CAH1B,QAGQM,IAHR,uCAI2BA,CAAAA,IAAI,CAACC,IAAL,EAJ3B,QAIQC,UAJR,gBAKIC,OAAO,CAACC,GAAR,CAAYF,UAAZ,EACA,KAAKX,QAAL,CAAc,CACVc,QAAQ,CAAEH,UAAU,CAACG,QADX,CAEVE,YAAY,CAAEL,UAAU,CAACK,YAFf,CAGVT,OAAO,CAAE,KAHC,CAAd,EANJ,8DA/BJ,mNA0DI,wIACI;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA,KAAKW,UAAL,GAXJ,6DA1DJ,mIA4GI,iBAAS,CACL,mBAEI,wCACQ,YAAI,SAAS,CAAC,aAAd,4BAA2C,KAAKxB,qBAAL,CAA2B,KAAKD,KAAL,CAAWW,QAAtC,CAA3C,gBADR,cAEQ,aAFR,cAIQ,KAAC,cAAD,EACI,UAAU,CAAE,KAAKF,KAAL,CAAWY,QAAX,CAAoBQ,MADpC,CAEI,IAAI,CAAE,KAAKvB,aAFf,CAGI,OAAO,CAAE,KAAKG,KAAL,CAAWY,QAAX,CAAoBQ,MAApB,GAA+B,KAAKpB,KAAL,CAAWc,YAHvD,CAII,MAAM,cAAE,KAAC,OAAD,IAJZ,uBAMI,YAAK,SAAS,CAAC,WAAf,uBACA,YAAK,SAAS,CAAC,KAAf,UAEK,KAAKd,KAAL,CAAWY,QAAX,CAAoBS,GAApB,CAAwB,SAACC,OAAD,CAAa,CAClC,mBAAO,YAAK,SAAS,CAAC,eAAf,uBACH,KAAC,QAAD,EAAU,KAAK,CAAEA,OAAO,CAACH,KAAR,CAAgBG,OAAO,CAACH,KAAR,CAAcvB,KAAd,CAAoB,CAApB,CAAuB,EAAvB,CAAhB,CAA6C,EAA9D,CAAkE,WAAW,CAAE0B,OAAO,CAACC,WAAR,CAAsBD,OAAO,CAACC,WAAR,CAAoB3B,KAApB,CAA0B,CAA1B,CAA6B,EAA7B,CAAtB,CAAyD,EAAxI,CAA4I,QAAQ,CAAE0B,OAAO,CAACE,UAA9J,CAA0K,OAAO,CAAEF,OAAO,CAACrB,GAA3L,CAAgM,MAAM,CAAEqB,OAAO,CAACG,MAAR,CAAiBH,OAAO,CAACG,MAAzB,CAAkC,SAA1O,CAAqP,IAAI,CAAEH,OAAO,CAACI,WAAnQ,EADG,EAAoCJ,OAAO,CAACrB,GAA5C,CAAP,CAIH,CALA,CAFL,EADA,EANJ,EAJR,GAFJ,CA8BH,CA3IL,kBAA0Bf,SAA1B,EAAaI,I,CACFqC,Y,CAAe,CAClB;AACAvB,QAAQ,CAAE,CAFQ,CAGlBF,QAAQ,CAAE,SAHQ,C,CA6I1B,cAAeZ,CAAAA,IAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport NewsItem from './NewsItem'\r\nimport Spinner from './Spinner';\r\nimport propTypes from 'prop-types';\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\n\r\n\r\nexport class News extends Component {\r\n    static defaultProps = {\r\n        // country: \"in\",\r\n        pageSize: 5,\r\n        category: 'science'\r\n    }\r\n    static propTypes = {\r\n        // country: propTypes.string,\r\n        pageSize: propTypes.number,\r\n        category: propTypes.string\r\n    }\r\n\r\n    capitalizeFirstLetter = (string) => {\r\n        return string.charAt(0).toUpperCase() + string.slice(1);\r\n    }\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(\"This is me\");\r\n        this.state = {\r\n            articles: [],\r\n            loading: false,\r\n            page: 1,\r\n            totalResults: 0\r\n        }\r\n\r\n        document.title = `${this.capitalizeFirstLetter(this.props.category)} - News Monkey`\r\n    }\r\n\r\n\r\n    async updateNews() {\r\n        let url = `https://newsapi.org/v2/top-headlines?country=in&catergory=${this.props.category}&apiKey=${this.props.apiKey}&page=${this.state.page}&pageSize=${this.props.pageSize}`;\r\n        this.setState({ loading: true });\r\n        let data = await fetch(url);\r\n        let parsedData = await data.json();\r\n        console.log(parsedData);\r\n        this.setState({\r\n            articles: parsedData.articles,\r\n            totalResults: parsedData.totalResults,\r\n            loading: false\r\n        })\r\n    }\r\n\r\n    fetchMoreData = async() => {\r\n        this.setState({page: this.state.page +1})\r\n        let url = `https://newsapi.org/v2/top-headlines?country=in&catergory=${this.props.category}&apiKey=${this.props.apiKey}&page=${this.state.page}&pageSize=${this.props.pageSize}`;\r\n        this.setState({ loading: true });\r\n        let data = await fetch(url);\r\n        let parsedData = await data.json();\r\n        console.log(parsedData);\r\n        this.setState({\r\n            articles: this.state.articles.concat(parsedData.articles),\r\n            totalResults: parsedData.totalResults,\r\n            loading: false\r\n        })\r\n      };\r\n\r\n    async componentDidMount() {\r\n        // let url = `https://newsapi.org/v2/everything?domains=wsj.com&catergory=${this.props.category}&apiKey=202fcca38be941fc97fb9fdc6a167cde&page=1&pageSize=${this.props.pageSize}`;\r\n        // let url = `https://newsapi.org/v2/top-headlines?country=in&catergory=${this.props.category}&apiKey=202fcca38be941fc97fb9fdc6a167cde&page=1&pageSize=${this.props.pageSize}`;\r\n\r\n        // let data = await fetch(url);\r\n        // let parsedData = await data.json();\r\n        // console.log(parsedData);\r\n        // this.setState({articles: parsedData.articles, \r\n        //                totalResults: parsedData.totalResults,\r\n        //                loading: false})\r\n\r\n        this.updateNews();\r\n\r\n    }\r\n\r\n    handlePreviousClick = async () => {\r\n        // let url = `https://newsapi.org/v2/everything?domains=wsj.com&catergory=${this.props.category}&apiKey=202fcca38be941fc97fb9fdc6a167cde&page=${this.state.page-1}&pageSize=${this.props.pageSize}`;\r\n        // let url = `https://newsapi.org/v2/top-headlines?country=in&catergory=${this.props.category}&apiKey=202fcca38be941fc97fb9fdc6a167cde&page=${this.state.page-1}&pageSize=${this.props.pageSize}`;\r\n        // console.log(\"Data is fetching\");\r\n        // this.setState({loading: true});\r\n        // let data = await fetch(url);\r\n        // let parsedData = await data.json();\r\n        // console.log(\"Data is fetching\");\r\n\r\n        // this.setState({\r\n        //     articles: parsedData.articles,\r\n        //     page: this.state.page - 1,\r\n        //     loading: false})\r\n        this.setState({ page: this.state.page - 1 })\r\n        this.updateNews();\r\n\r\n    }\r\n\r\n    handleNextClick = async () => {\r\n        // if (!(this.state.page+1 > Math.ceil(this.state.totalResults/20))){\r\n        //     this.setState({loading: true});\r\n        // let url = `https://newsapi.org/v2/everything?domains=wsj.com&catergory=${this.props.category}&apiKey=202fcca38be941fc97fb9fdc6a167cde&page=${this.state.page+1}&pageSize=${this.props.pageSize}`;\r\n        // let url = `https://newsapi.org/v2/top-headlines?country=in&catergory=${this.props.category}&apiKey=202fcca38be941fc97fb9fdc6a167cde&page=${this.state.page+1}&pageSize=${this.props.pageSize}`;\r\n\r\n        // let data = await fetch(url);\r\n        // let parsedData = await data.json();\r\n        // this.setState({\r\n        //     articles: parsedData.articles,\r\n        //     page: this.state.page + 1,\r\n        //     loading: false})\r\n        this.setState({ page: this.state.page + 1 })\r\n        this.updateNews();\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n            <>\r\n                    <h1 className=\"text-center\">News Monkey - {this.capitalizeFirstLetter(this.props.category)} category.</h1>\r\n                    <hr />\r\n                    {/* {this.state.loading && <Spinner />} */}\r\n                    <InfiniteScroll\r\n                        dataLength={this.state.articles.length}\r\n                        next={this.fetchMoreData}\r\n                        hasMore={this.state.articles.length !== this.state.totalResults}\r\n                        loader={<Spinner/>}\r\n                    >\r\n                        <div className=\"container\">\r\n                        <div className=\"row\">\r\n                            {/* {!this.state.loading &&  */}\r\n                            {this.state.articles.map((element) => { \r\n                                return <div className=\"col-md-4 my-3\" key={element.url}>\r\n                                    <NewsItem title={element.title ? element.title.slice(0, 45) : \"\"} description={element.description ? element.description.slice(0, 88) : \"\"} urlImage={element.urlToImage} newsUrl={element.url} author={element.author ? element.author : \"Unknown\"} date={element.publishedAt} />\r\n                                </div>\r\n\r\n                            })}\r\n                        </div>\r\n                        </div>\r\n                    </InfiniteScroll>\r\n                {/* <div className=\"container d-flex justify-content-between my-5\">\r\n                <button disabled={this.state.page <= 1} type=\"button\" class=\"btn btn-dark\" onClick={this.handlePreviousClick}> &larr; Previous</button>\r\n                <button disabled={this.state.page + 1 > Math.ceil(this.state.totalResults / this.props.pageSize)} type=\"button\" class=\"btn btn-dark\" onClick={this.handleNextClick}>Next &rarr;</button>\r\n            </div> */}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default News\r\n"]},"metadata":{},"sourceType":"module"}